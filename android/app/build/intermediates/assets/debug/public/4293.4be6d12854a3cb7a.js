"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4293],{4293:(b,h,r)=>{r.r(h),r.d(h,{CodePageModule:()=>O});var f=r(177),s=r(4341),i=r(8974),u=r(1007),g=r(467),e=r(6276),P=r(4666);let C=(()=>{var t;class a{constructor(n,o,c){this.router=n,this.userService=o,this.alertController=c,this.codeData={code:""}}ionViewDidLoad(){}ionViewDidEnter(){return(0,g.A)(function*(){})()}checkCode(){var n=this;let o="";""!=this.codeData.code&&this.userService.getUser().then(function(){var l=(0,g.A)(function*(m){o=m.phone,console.log("PHONE: "+o),console.log("CODE: "+n.codeData.code),n.userService.checkCode(o,n.codeData.code).subscribe(()=>{n.userService.getUser().then(p=>{p.codeValidated=!0,n.userService.storeUserData(p),n.router.navigate(["/menu"])})},p=>{n.presentAlert("El c\xf3digo introducido no es corrrecto. Por favor, int\xe9ntalo de nuevo")})});return function(m){return l.apply(this,arguments)}}())}reSendCode(){var n=this;let o="";this.userService.getUser().then(function(){var c=(0,g.A)(function*(l){o=l.phone,n.userService.resendCode(o).then(()=>{n.presentAlert("Te hemos enviado un nuevo c\xf3digo, intenta introducirlo ahora")},()=>{n.presentAlert("Error al solicitar el nuevo c\xf3digo. Por favor, int\xe9ntalo de nuevo m\xe1s tarde")})});return function(l){return c.apply(this,arguments)}}())}presentAlert(n){var o=this;return(0,g.A)(function*(){yield(yield o.alertController.create({message:n,buttons:["OK"]})).present()})()}}return(t=a).\u0275fac=function(n){return new(n||t)(e.rXU(u.Ix),e.rXU(P.D),e.rXU(i.hG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-code"]],decls:21,vars:2,consts:[[3,"fullscreen"],["padding-vertical","",1,"icontent"],["text-center","",1,"logoholder","animated","pulse"],["src","assets/imgs/logo.png","alt","",1,"logo"],[1,"text"],[1,"ion-padding"],["size","12"],[1,"ion-text-center","padding",2,"border-radius","25px"],["color","light","placeholder","C\xf3digo","type","number","maxlength","4",1,"custom",3,"ngModel","ngModelChange"],["color","light","size","large","expand","block","shape","round",3,"click"],[2,"color","#E30025","font-weight","bold","font-size","22px"],[3,"click"]],template:function(n,o){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"p"),e.EFF(6,"Introduce el c\xf3digo que te habr\xe1 llegado al m\xf3vil en un mensaje de texto"),e.k0s()(),e.j41(7,"ion-row",5)(8,"ion-col",6)(9,"ion-item",7)(10,"ion-input",8),e.bIt("ngModelChange",function(l){return o.codeData.code=l}),e.k0s()()()(),e.j41(11,"ion-row",5)(12,"ion-col",6)(13,"ion-button",9),e.bIt("click",function(){return o.checkCode()}),e.j41(14,"span",10),e.EFF(15,"ACEPTAR"),e.k0s()()()(),e.j41(16,"div",4)(17,"p"),e.EFF(18,"\xbfNo has recibido el mensaje con el c\xf3digo? "),e.j41(19,"a",11),e.bIt("click",function(){return o.reSendCode()}),e.EFF(20,"Pulsa aqu\xed para intentar enviarte un nuevo c\xf3digo"),e.k0s()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(10),e.Y8G("ngModel",o.codeData.code))},dependencies:[s.BC,s.tU,s.vS,i.Jm,i.hU,i.W9,i.$w,i.uz,i.ln,i.su],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #E30025}ion-input[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #ccc}ion-input.custom[_ngcontent-%COMP%]{font-size:22px;font-weight:700;--placeholder-color: #000;--placeholder-opacity: .4}.logo[_ngcontent-%COMP%]{height:150px}.text[_ngcontent-%COMP%]{color:#fff;width:90%;margin:auto;font-size:1.2em}a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.logoholder[_ngcontent-%COMP%]{text-align:center;margin-left:auto;margin-right:auto}.logoholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a5a5a5!important}.detailsholder[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:25px!important;margin-left:-.1rem;padding-left:30px!important;font-size:1.5em;margin-bottom:10px;border-bottom:0px!important;box-shadow:0 0 30px #0000001a;height:20px}.detailsholder[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e30025!important}.detailsholder[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background-color:#fff;width:90vw;margin:10px;padding-top:10px;padding-bottom:10px}.detailsholder[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{text-align:center}.detailsholder[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{text-align:center}.detailsholder[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{text-align:center}.butnsholder[_ngcontent-%COMP%]   .loginbtn[_ngcontent-%COMP%]{border-radius:25px;color:#fff!important;font-size:1.5em;height:50px;background-color:#cc0020}.butnsholder[_ngcontent-%COMP%]   .registerbtn[_ngcontent-%COMP%]{border-radius:25px;color:#cc0020!important;font-size:1.5em;height:50px;margin-top:10px}']}),a})();const M=[{path:"code",component:C}];let v=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(M),u.iI]}),a})();const x=[{path:"",component:C}];let O=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.MD,s.YN,i.bv,v,u.iI.forChild(x)]}),a})()}}]);