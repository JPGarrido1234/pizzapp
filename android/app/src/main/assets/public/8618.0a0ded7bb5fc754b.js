"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618:(v,p,a)=>{a.r(p),a.d(p,{RegisterPageModule:()=>_});var M=a(177),c=a(4341),s=a(8974),d=a(1007),u=a(467),m=a(3873),f=a(2081),e=a(6276),C=a(4666);let h=(()=>{var i;class g{constructor(n,t,r){this.userService=n,this.alertController=t,this.router=r,this.registerForm={name:"",address:"",zip:"",phone:"",login:"",password:"",passwordRepeated:"",birthDate:""}}ionViewDidLoad(){}ionViewDidEnter(){var n=this;return(0,u.A)(function*(){(yield n.userService.isLogged())?n.userService.logOut():(yield n.userService.isWaitingForCode())&&n.router.navigate(["/code"])})()}register(){var n=this;return(0,u.A)(function*(){try{f.A.checkPassword(n.registerForm.password,n.registerForm.passwordRepeated)}catch(r){return void n.presentAlert(r)}let t;try{t=m.K.populate(n.registerForm)}catch(r){return void n.presentAlert(r)}n.userService.register(t).subscribe(r=>{const o=m.K.populate(r);o.setLogged(!0),n.userService.storeUserData(o),n.router.navigate(["/code"])},r=>{let o=r.error.toLowerCase();o.indexOf("duplicate")>0?o.indexOf("email")>0?n.presentAlert("El email proporcionado ya est\xe1 en uso en la app. Intenta loguearte desde el bot\xf3n de abajo."):o.indexOf("phone")>0&&n.presentAlert("El tel\xe9fono proporcionado ya est\xe1 en uso en la app. Intenta loguearte desde el bot\xf3n de abajo."):n.presentAlert("Error intentando registrar los datos, por favor int\xe9ntalo de nuevo m\xe1s tarde")})})()}presentAlert(n){var t=this;return(0,u.A)(function*(){yield(yield t.alertController.create({message:n,buttons:["OK"]})).present()})()}goToLogin(){this.router.navigate(["/login"])}}return(i=g).\u0275fac=function(n){return new(n||i)(e.rXU(C.D),e.rXU(s.hG),e.rXU(d.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-register"]],decls:46,vars:8,consts:[["fullscreen","true"],["padding-vertical","",1,"icontent"],[1,"title"],["padding","","text-center","",1,"detailsholder"],["size","12"],[1,"ion-text-center","padding"],["placeholder","Nombre","type","text",1,"custom",3,"ngModel","ngModelChange"],["placeholder","Tel\xe9fono","type","text",1,"custom",3,"ngModel","ngModelChange"],["placeholder","Email","type","email",1,"email","custom",3,"ngModel","ngModelChange"],["placeholder","Direcci\xf3n","type","text",1,"custom",3,"ngModel","ngModelChange"],["placeholder","C\xf3digo postal","type","text",1,"custom",3,"ngModel","ngModelChange"],["placeholder","Contrase\xf1a","type","password",1,"custom",3,"ngModel","ngModelChange"],["placeholder","Repetir contrase\xf1a","type","password",1,"custom",3,"ngModel","ngModelChange"],[2,"height","10px"],["for","birthDate"],["type","date",3,"ngModel","ngModelChange"],[1,"text"],["color","light","size","large","expand","block","shape","round",3,"click"],[2,"color","#E30025","font-weight","bold","font-size","22px"],["color","medium","size","large","expand","block","shape","round",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"h3",2),e.EFF(3,"REGISTRO EN LA APP"),e.k0s(),e.j41(4,"div",3)(5,"ion-row")(6,"ion-col",4)(7,"ion-item",5)(8,"ion-input",6),e.bIt("ngModelChange",function(o){return t.registerForm.name=o}),e.k0s()()(),e.j41(9,"ion-col",4)(10,"ion-item",5)(11,"ion-input",7),e.bIt("ngModelChange",function(o){return t.registerForm.phone=o}),e.k0s()()(),e.j41(12,"ion-col",4)(13,"ion-item",5)(14,"ion-input",8),e.bIt("ngModelChange",function(o){return t.registerForm.login=o}),e.k0s()()(),e.j41(15,"ion-col",4)(16,"ion-item",5)(17,"ion-input",9),e.bIt("ngModelChange",function(o){return t.registerForm.address=o}),e.k0s()()(),e.j41(18,"ion-col",4)(19,"ion-item",5)(20,"ion-input",10),e.bIt("ngModelChange",function(o){return t.registerForm.zip=o}),e.k0s()()(),e.j41(21,"ion-col",4)(22,"ion-item",5)(23,"ion-input",11),e.bIt("ngModelChange",function(o){return t.registerForm.password=o}),e.k0s()()(),e.j41(24,"ion-col",4)(25,"ion-item",5)(26,"ion-input",12),e.bIt("ngModelChange",function(o){return t.registerForm.passwordRepeated=o}),e.k0s()()()(),e.nrm(27,"div",13),e.j41(28,"label",14),e.EFF(29,"Fecha de nacimiento (opcional)"),e.k0s(),e.nrm(30,"div",13),e.j41(31,"ion-item")(32,"ion-input",15),e.bIt("ngModelChange",function(o){return t.registerForm.birthDate=o}),e.k0s()()(),e.j41(33,"div",16)(34,"p"),e.EFF(35,"Asegurate de introducir bien tu n\xfamero de m\xf3vil, ya que en el siguiente paso te vamos a enviar un sms con un c\xf3digo de verificaci\xf3n"),e.k0s()(),e.j41(36,"ion-row")(37,"ion-col",4)(38,"ion-button",17),e.bIt("click",function(){return t.register()}),e.j41(39,"span",18),e.EFF(40,"REGISTRARME"),e.k0s()()()(),e.j41(41,"ion-row")(42,"ion-col",4)(43,"ion-button",19),e.bIt("click",function(){return t.goToLogin()}),e.j41(44,"span",18),e.EFF(45,"YA TENGO CUENTA"),e.k0s()()()()()()),2&n&&(e.R7$(8),e.Y8G("ngModel",t.registerForm.name),e.R7$(3),e.Y8G("ngModel",t.registerForm.phone),e.R7$(3),e.Y8G("ngModel",t.registerForm.login),e.R7$(3),e.Y8G("ngModel",t.registerForm.address),e.R7$(3),e.Y8G("ngModel",t.registerForm.zip),e.R7$(3),e.Y8G("ngModel",t.registerForm.password),e.R7$(3),e.Y8G("ngModel",t.registerForm.passwordRepeated),e.R7$(6),e.Y8G("ngModel",t.registerForm.birthDate))},dependencies:[c.BC,c.vS,s.Jm,s.hU,s.W9,s.$w,s.uz,s.ln,s.Gw],styles:["ion-content[_ngcontent-%COMP%]{--background: #E30025}.icontent[_ngcontent-%COMP%]{padding:15px}.title[_ngcontent-%COMP%]{text-align:center;color:#fff}.text[_ngcontent-%COMP%]{color:#fff;width:90%;margin:auto;font-size:1em}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:4px;font-size:1.2em}.logoholder[_ngcontent-%COMP%]{text-align:center;margin-left:auto;margin-right:auto}.logoholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a5a5a5!important}ion-item[_ngcontent-%COMP%]{border-radius:35px!important;box-shadow:0 0 30px #0000001a}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e30025!important}ion-input[_ngcontent-%COMP%]{background-color:#fff;width:90vw;margin:10px;padding-top:10px;padding-bottom:10px}ion-input.custom[_ngcontent-%COMP%]{font-size:22px;font-weight:700;--placeholder-color: #000;--placeholder-opacity: .4}.loginbtn[_ngcontent-%COMP%]{border-radius:25px;color:#fff!important;font-size:1.5em;height:30px;background-color:#cc0020}.registerbtn[_ngcontent-%COMP%]{border-radius:25px;color:#cc0020!important;font-size:1.5em;height:50px;margin-top:10px}.registerbtn-dark[_ngcontent-%COMP%]{background-color:#ccc}.link[_ngcontent-%COMP%]{text-decoration:underline}"]}),g})();const R=[{path:"register",component:h}];let P=(()=>{var i;class g{}return(i=g).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[d.iI.forChild(R),d.iI]}),g})();const F=[{path:"",component:h}];let _=(()=>{var i;class g{}return(i=g).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[M.MD,c.YN,s.bv,P,d.iI.forChild(F)]}),g})()}}]);